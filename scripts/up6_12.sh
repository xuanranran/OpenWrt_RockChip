#!/bin/bash
# Set to local prepare

# curl -s https://raw.githubusercontent.com/openwrt/openwrt/refs/heads/main/target/linux/generic/kernel-6.12 > target/linux/generic/kernel-6.12



curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/generic/kernel-6.12 > target/linux/generic/kernel-6.12
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0006-xhci-add-quirk-for-host-controllers-that-don-t-updat.patch > target/linux/bcm27xx/patches-6.12/950-0006-xhci-add-quirk-for-host-controllers-that-don-t-updat.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0054-Add-dwc_otg-driver.patch > target/linux/bcm27xx/patches-6.12/950-0054-Add-dwc_otg-driver.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0057-MMC-added-alternative-MMC-driver.patch > target/linux/bcm27xx/patches-6.12/950-0057-MMC-added-alternative-MMC-driver.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0073-ASoC-Add-support-for-all-the-downstream-rpi-sound-ca.patch > target/linux/bcm27xx/patches-6.12/950-0073-ASoC-Add-support-for-all-the-downstream-rpi-sound-ca.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0096-lan78xx-Debounce-link-events-to-minimize-poll-storm.patch > target/linux/bcm27xx/patches-6.12/950-0096-lan78xx-Debounce-link-events-to-minimize-poll-storm.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0124-usb-add-plumbing-for-updating-interrupt-endpoint-int.patch > target/linux/bcm27xx/patches-6.12/950-0124-usb-add-plumbing-for-updating-interrupt-endpoint-int.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0125-xhci-implement-xhci_fixup_endpoint-for-interval-adju.patch > target/linux/bcm27xx/patches-6.12/950-0125-xhci-implement-xhci_fixup_endpoint-for-interval-adju.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0126-usb-xhci-workaround-for-bogus-SET_DEQ_PENDING-endpoi.patch > target/linux/bcm27xx/patches-6.12/950-0126-usb-xhci-workaround-for-bogus-SET_DEQ_PENDING-endpoi.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0127-usb-xhci-drop-and-add-the-endpoint-context-in-xhci_f.patch > target/linux/bcm27xx/patches-6.12/950-0127-usb-xhci-drop-and-add-the-endpoint-context-in-xhci_f.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0130-drm-v3d-Clock-V3D-down-when-not-in-use.patch > target/linux/bcm27xx/patches-6.12/950-0130-drm-v3d-Clock-V3D-down-when-not-in-use.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0322-Bluetooth-hci_sync-Add-fallback-bd-address-prop.patch > target/linux/bcm27xx/patches-6.12/950-0322-Bluetooth-hci_sync-Add-fallback-bd-address-prop.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0333-xhci-quirks-add-link-TRB-quirk-for-VL805.patch > target/linux/bcm27xx/patches-6.12/950-0333-xhci-quirks-add-link-TRB-quirk-for-VL805.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0334-usb-xhci-add-VLI_SS_BULK_OUT_BUG-quirk.patch > target/linux/bcm27xx/patches-6.12/950-0334-usb-xhci-add-VLI_SS_BULK_OUT_BUG-quirk.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0335-usb-xhci-add-XHCI_VLI_HUB_TT_QUIRK.patch > target/linux/bcm27xx/patches-6.12/950-0335-usb-xhci-add-XHCI_VLI_HUB_TT_QUIRK.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0344-sdhci-Add-SD-Express-hook.patch > target/linux/bcm27xx/patches-6.12/950-0344-sdhci-Add-SD-Express-hook.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0360-i2c-designware-Add-SMBUS-quick-command-support.patch > target/linux/bcm27xx/patches-6.12/950-0360-i2c-designware-Add-SMBUS-quick-command-support.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0396-drivers-mmc-sdhci-add-SPURIOUS_INT_RESP-quirk.patch > target/linux/bcm27xx/patches-6.12/950-0396-drivers-mmc-sdhci-add-SPURIOUS_INT_RESP-quirk.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0437-mmc-sdhci-extend-maximum-ADMA-transfer-length-to-4Mi.patch > target/linux/bcm27xx/patches-6.12/950-0437-mmc-sdhci-extend-maximum-ADMA-transfer-length-to-4Mi.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0442-drivers-mmc-disable-write-caching-on-Samsung-2023-mo.patch > target/linux/bcm27xx/patches-6.12/950-0442-drivers-mmc-disable-write-caching-on-Samsung-2023-mo.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0443-mmc-quirks-disable-cache-on-more-known-bad-Sandisk-c.patch > target/linux/bcm27xx/patches-6.12/950-0443-mmc-quirks-disable-cache-on-more-known-bad-Sandisk-c.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0445-mmc-quirks-add-MMC_QUIRK_BROKEN_ERASE-for-Phison-Int.patch > target/linux/bcm27xx/patches-6.12/950-0445-mmc-quirks-add-MMC_QUIRK_BROKEN_ERASE-for-Phison-Int.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0446-i2c-designware-Add-support-for-bus-clear-feature.patch > target/linux/bcm27xx/patches-6.12/950-0446-i2c-designware-Add-support-for-bus-clear-feature.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0502-Bluetooth-hci_sync-Fix-crash-on-NULL-parent.patch > target/linux/bcm27xx/patches-6.12/950-0502-Bluetooth-hci_sync-Fix-crash-on-NULL-parent.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0525-drivers-usb-xhci-prevent-a-theoretical-race-on-non-c.patch > target/linux/bcm27xx/patches-6.12/950-0525-drivers-usb-xhci-prevent-a-theoretical-race-on-non-c.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0751-mmc-set-MMC_QUIRK_KNOWN_WORKING_SD_CQ-on-Raspberry-P.patch > target/linux/bcm27xx/patches-6.12/950-0751-mmc-set-MMC_QUIRK_KNOWN_WORKING_SD_CQ-on-Raspberry-P.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0767-drm-v3d-Fix-return-if-scheduler-initialization-fails.patch > target/linux/bcm27xx/patches-6.12/950-0767-drm-v3d-Fix-return-if-scheduler-initialization-fails.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0768-drm-v3d-Introduce-gemfs.patch > target/linux/bcm27xx/patches-6.12/950-0768-drm-v3d-Introduce-gemfs.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0772-drm-v3d-Add-modparam-for-turning-off-Big-Super-Pages.patch > target/linux/bcm27xx/patches-6.12/950-0772-drm-v3d-Add-modparam-for-turning-off-Big-Super-Pages.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0775-drm-v3d-Add-DRM_IOCTL_V3D_PERFMON_SET_GLOBAL.patch > target/linux/bcm27xx/patches-6.12/950-0775-drm-v3d-Add-DRM_IOCTL_V3D_PERFMON_SET_GLOBAL.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0777-drm-v3d-Remove-v3d-cpu_job.patch > target/linux/bcm27xx/patches-6.12/950-0777-drm-v3d-Remove-v3d-cpu_job.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0860-drm-v3d-Associate-a-V3D-tech-revision-to-all-support.patch > target/linux/bcm27xx/patches-6.12/950-0860-drm-v3d-Associate-a-V3D-tech-revision-to-all-support.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0863-drm-v3d-Use-V3D_SMS-registers-for-power-on-off-and-r.patch > target/linux/bcm27xx/patches-6.12/950-0863-drm-v3d-Use-V3D_SMS-registers-for-power-on-off-and-r.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/bcm27xx/patches-6.12/950-0950-usb-xhci-default-to-Intel-scheme-for-calculating-U1-.patch > target/linux/bcm27xx/patches-6.12/950-0950-usb-xhci-default-to-Intel-scheme-for-calculating-U1-.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/generic/backport-6.12/710-v6.16-igc-enable-HW-vlan-tag-insertion-stripping-by-defaul.patch > target/linux/generic/backport-6.12/710-v6.16-igc-enable-HW-vlan-tag-insertion-stripping-by-defaul.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/generic/backport-6.12/780-01-v6.13-r8169-remove-original-workaround-for-RTL8125-broken-.patch > target/linux/generic/backport-6.12/780-01-v6.13-r8169-remove-original-workaround-for-RTL8125-broken-.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/generic/backport-6.12/780-02-v6.13-r8169-enable-SG-TSO-on-selected-chip-versions-per-de.patch > target/linux/generic/backport-6.12/780-02-v6.13-r8169-enable-SG-TSO-on-selected-chip-versions-per-de.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/generic/backport-6.12/780-03-v6.13-r8169-implement-additional-ethtool-stats-ops.patch > target/linux/generic/backport-6.12/780-03-v6.13-r8169-implement-additional-ethtool-stats-ops.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/generic/backport-6.12/780-04-v6.13-r8169-don-t-take-RTNL-lock-in-rtl_task.patch > target/linux/generic/backport-6.12/780-04-v6.13-r8169-don-t-take-RTNL-lock-in-rtl_task.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/generic/backport-6.12/780-05-v6.13-replace-custom-flag-with-disable_work-et-al.patch > target/linux/generic/backport-6.12/780-05-v6.13-replace-custom-flag-with-disable_work-et-al.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/generic/backport-6.12/780-07-v6.13-r8169-remove-rtl_dash_loop_wait_high-low.patch > target/linux/generic/backport-6.12/780-07-v6.13-r8169-remove-rtl_dash_loop_wait_high-low.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/generic/backport-6.12/781-01-v6.13-net-phy-realtek-read-duplex-and-gbit-master-from-PHY.patch > target/linux/generic/backport-6.12/781-01-v6.13-net-phy-realtek-read-duplex-and-gbit-master-from-PHY.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/generic/backport-6.12/781-02-v6.13-net-phy-realtek-change-order-of-calls-in-C22-read_st.patch > target/linux/generic/backport-6.12/781-02-v6.13-net-phy-realtek-change-order-of-calls-in-C22-read_st.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/generic/backport-6.12/781-03-v6.13-net-phy-realtek-clear-1000Base-T-link-partner-advert.patch > target/linux/generic/backport-6.12/781-03-v6.13-net-phy-realtek-clear-1000Base-T-link-partner-advert.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/generic/hack-6.12/902-debloat_proc.patch > target/linux/generic/hack-6.12/902-debloat_proc.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/imx/patches-6.12/506-6.16-PCI-imx6-Skip-link-up-workaround-for-newer-platforms.patch > target/linux/imx/patches-6.12/506-6.16-PCI-imx6-Skip-link-up-workaround-for-newer-platforms.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/imx/patches-6.12/506-pending-PCI-imx6-Remove-apps_reset-toggle-in-_core_reset-function.patch > target/linux/imx/patches-6.12/506-pending-PCI-imx6-Remove-apps_reset-toggle-in-_core_reset-function.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/mediatek/patches-6.12/330-snand-mtk-bmt-support.patch > target/linux/mediatek/patches-6.12/330-snand-mtk-bmt-support.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/mediatek/patches-6.12/960-asus-hack-u-boot-ignore-mtdparts.patch > target/linux/mediatek/patches-6.12/960-asus-hack-u-boot-ignore-mtdparts.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/ramips/patches-6.12/003-v6.13-mmc-mtk-sd-Implement-Host-Software-Queue-for-eMMC.patch > target/linux/ramips/patches-6.12/003-v6.13-mmc-mtk-sd-Implement-Host-Software-Queue-for-eMMC.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/ramips/patches-6.12/831-01-mmc-mtk-sd-add-tuning-parameters-for-legacy-MIPS-MT7.patch > target/linux/ramips/patches-6.12/831-01-mmc-mtk-sd-add-tuning-parameters-for-legacy-MIPS-MT7.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/ramips/patches-6.12/831-02-mmc-mtk-sd-disable-auto-CMD23-support-for-mt7620.patch > target/linux/ramips/patches-6.12/831-02-mmc-mtk-sd-disable-auto-CMD23-support-for-mt7620.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/ramips/patches-6.12/831-03-mmc-mtk-sd-use-default-PATCH_BIT1-2-values-for-mt762.patch > target/linux/ramips/patches-6.12/831-03-mmc-mtk-sd-use-default-PATCH_BIT1-2-values-for-mt762.patch
curl -s https://raw.githubusercontent.com/DragonBluep/openwrt/refs/heads/kernel-6.6.96/target/linux/starfive/patches-6.12/1011-net-stmmac-use-GFP_DMA32.patch > target/linux/starfive/patches-6.12/1011-net-stmmac-use-GFP_DMA32.patch


rm -rf target/linux/generic/backport-6.12/780-09-v6.13-r8169-add-support-for-RTL8125D.patch
rm -rf target/linux/generic/backport-6.12/781-04-v6.13-net-phy-realtek-merge-the-drivers-for-internal-NBase.patch
rm -rf target/linux/generic/backport-6.12/781-05-v6.13-net-phy-realtek-add-RTL8125D-internal-PHY.patch